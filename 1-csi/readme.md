# csi处理流程 

cite station infomation, 包括编码名称, 省市信息, 经纬度, 风险指数

这里风险指数需要细说:
   - 所有的文件中经纬度均不改变的风险为0
   - 仅名字改动的风险为0
   - 经纬度信息在有无之间变动的话, risk = 1
   - 经纬度变化的大值, 超过0.1, risk = 11
   - 变化大值在0.01 ~ 0.1之间的话, 每0.1为1, risk在2到10之间
   - 缺失信息自己不全的, risk = 12

后续的分析中需要把risk也做一个filter


*** 

## 具体流程如下:

### 1. 处理站点列表-旧-946个.csv, 格式与其他相同, 且在旧前面加个1 (-1旧-946-)

### 2. 执行1-union_csi.sh, 合并多个csv, 得到csi_all.csv

   * 过程中同时处理了错误/缺失数据的fill
   * 如果sublime打开有乱码, 检查文件编码, 尤其是 1旧 的...

### 3. 执行2-handle_csi.py, 得到csi.csv

   * 根据信息偏差变化程度确定risk level (0, 1, 2-11, 12)

### 4. 手动处理缺失的经纬度信息(999,999), 结果列于citeInfo_search.txt中, 并执行3-postProc.sh进行合并

   * 注意这个文件要dos2unix一下, 不然对换行的处理是有问题的..
   * 替换补全的信息
   * 修改三沙站点的risk, 直接拉满


